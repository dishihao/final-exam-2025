<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>离散数学期末复习卷（最终完美版）</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0" rel="stylesheet">
    <style>
        body {
            background-color: #e5e7eb;
            font-family: 'Noto Serif SC', 'SimSun', serif;
            color: #1f2937;
            line-height: 1.6;
        }
        .paper {
            background-color: white;
            width: 100%;
            max-width: 210mm;
            min-height: 297mm;
            margin: 20px auto;
            padding: 20mm;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            position: relative;
            box-sizing: border-box;
        }
        /* 红色楷体手写效果 - 优化为深红更像批改 */
        .red-pen {
            font-family: "KaiTi", "STKaiti", "楷体", serif;
            color: #c92a2a; 
            font-size: 1.15em;
            display: inline-block;
            margin-left: 0.3rem;
            font-weight: 500;
        }
        .red-pen-block {
            font-family: "KaiTi", "STKaiti", "楷体", serif;
            color: #c92a2a;
            font-size: 1.05em;
            margin-top: 0.5rem;
            padding: 1rem;
            border-left: 4px solid #fecaca;
            background-color: #fff5f5;
            border-radius: 4px;
            line-height: 1.8;
        }
        /* 解析区域样式 */
        .explanation {
            margin-top: 6px;
            padding: 8px 12px;
            background-color: #fff1f2;
            border-left: 3px solid #f43f5e;
            color: #9f1239;
            font-size: 0.95em;
            font-family: "KaiTi", "STKaiti", "楷体", serif;
            display: block;
        }
        /* 选项布局：网格 */
        .grid-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.5rem;
            margin-left: 1.5rem;
            margin-top: 0.5rem;
            font-size: 0.95rem;
            color: #4b5563;
        }
        /* 矩阵样式 */
        .matrix-container {
            display: inline-flex;
            align-items: center;
            margin: 10px 0;
            font-family: 'Times New Roman', serif;
            font-size: 1.1em;
        }
        .matrix-bracket {
            border: 2px solid #000;
            width: 10px;
            border-right: none;
        }
        .matrix-bracket-right {
            border-left: none;
            border-right: 2px solid #000;
        }
        .matrix-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px 15px;
            text-align: center;
            padding: 0 8px;
        }
        
        /* SVG 图形样式 */
        .graph-svg text {
            font-family: 'Times New Roman', serif;
            font-size: 14px;
            font-weight: bold;
        }
        .graph-svg path {
            fill: none;
            stroke: #3b82f6; /* Blue-500 */
            stroke-width: 1.5;
            marker-end: url(#arrowhead);
        }
        .graph-svg circle {
            fill: #3b82f6;
        }

        /* 数学符号优化 */
        sup { vertical-align: super; font-size: smaller; }
        sub { vertical-align: sub; font-size: smaller; }
        
        @media print {
            body { background: none; }
            .paper { margin: 0; box-shadow: none; width: 100%; padding: 15mm; }
            .no-print { display: none; }
            .explanation { display: block !important; }
        }
        @media (max-width: 768px) {
            .paper { padding: 15px; margin: 0; }
            .grid-options { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<!-- 悬浮控制按钮 -->
<div class="fixed top-4 left-4 flex flex-col gap-3 z-50 no-print">
   
    <button class="flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded shadow hover:bg-gray-700 transition font-sans" onclick="toggleAnswers()">
        <span class="material-symbols-outlined">visibility_off</span>
        <span id="toggle-text">显示/隐藏答案与解析</span>
    </button>
</div>

<!-- SVG Definitions -->
<svg style="display: none;">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
    </marker>
  </defs>
</svg>

<div class="paper">
    <!-- 试卷抬头 -->
    <div class="text-center border-b-2 border-gray-800 pb-6 mb-8 relative">
        <h1 class="text-3xl font-bold mb-2">离散数学 期末复习卷</h1>
        <div class="flex justify-center gap-8 text-sm text-gray-600 mt-4 font-sans">
            <span>包含：集合论、图论、数理逻辑</span>
            <span>整理：复习题库精编</span>
        </div>
        
    </div>

    <!-- 一、选择题 -->
    <div class="mb-8">
        <h2 class="text-xl font-bold mb-4 border-l-4 border-gray-800 pl-3">一、选择题</h2>
        <div class="space-y-6">
            <div>
                <p>1. 设 A 是有限集，|A|=4，则 A 的所有子集的个数为 (<span class="red-pen"> A </span>)</p>
                <div class="grid-options">
                    <span>A. 16</span><span>B. 8</span><span>C. 4</span><span>D. 12</span>
                </div>
                <div class="explanation">解析：子集个数公式为 2<sup>n</sup>，即 2<sup>4</sup> = 16。</div>
            </div>
            <div>
                <p>2. 若图 G 是一个包含 n 个顶点的连通图，则最少的边数为 (<span class="red-pen"> B </span>)</p>
                <div class="grid-options">
                    <span>A. n</span><span>B. n-1</span><span>C. n+1</span><span>D. n(n-1)/2</span>
                </div>
                <div class="explanation">解析：树是边数最少的连通图，边数为 n-1。</div>
            </div>
            <div>
                <p>3. 在一个简单无向图中，度数为奇数的顶点个数 (<span class="red-pen"> B </span>)</p>
                <div class="grid-options">
                    <span>A. 可以是任意数</span><span>B. 必须是偶数</span>
                    <span>C. 必须是奇数</span><span>D. 必须是0</span>
                </div>
                <div class="explanation">解析：根据握手定理推论，奇度数顶点的个数必为偶数。</div>
            </div>
            <div>
                <p>4. 设集合 A ={1,2,3}, B ={x,y}，从 A 到 B 的满射个数为 (<span class="red-pen"> A </span>)</p>
                <div class="grid-options">
                    <span>A. 6</span><span>B. 8</span><span>C. 4</span><span>D. 3</span>
                </div>
                <div class="explanation">解析：总函数 2<sup>3</sup>=8。非满射有2个（全对应x或全对应y）。8 - 2 = 6。</div>
            </div>
            <div>
                <p>5. 若关系 R 在集合 A 上仅有自反性和对称性，则 R 的传递闭包 t(R) (<span class="red-pen"> A </span>)</p>
                <div class="grid-options">
                    <span>A. 一定是等价关系</span><span>B. 一定不是等价关系</span>
                    <span>C. 可能是等价关系</span><span>D. 与R相等</span>
                </div>
                <div class="explanation">解析：传递闭包保留原有的自反和对称性，增加传递性后，即满足等价关系的三个条件。</div>
            </div>
            <div>
                <p>6. 若 P 和 Q 是两个命题，则 P ↔ Q 为真当且仅当 (<span class="red-pen"> C </span>)</p>
                <div class="grid-options">
                    <span>A. P 和 Q 均为真</span><span>B. P 和 Q 至少一个为真</span>
                    <span>C. P 和 Q 同真同假</span><span>D. P 和 Q 至少一个为假</span>
                </div>
            </div>
            <div>
                <p>7. 在谓词逻辑中，∀x ∃y P(x,y) 与下列哪个等价 (<span class="red-pen"> D </span>)</p>
                <div class="grid-options">
                    <span>A. ∃y ∀x P(x,y)</span><span>B. ∃x ∀y P(x,y)</span>
                    <span>C. ∀y ∃x P(x,y)</span><span>D. 以上都不对</span>
                </div>
                <div class="explanation">解析：量词的次序不能随意交换，特别是全称量词和存在量词混用时。</div>
            </div>
            <div>
                <p>8. G 是有 n 个节点的简单无向连通图，则 G 至少有多少条边 (<span class="red-pen"> A </span>)</p>
                <div class="grid-options">
                    <span>A. n-1</span><span>B. n+1</span><span>C. n</span><span>D. 2n-1</span>
                </div>
            </div>
            <div>
                <p>9. 若关系 R ⊆ A×A 是自反的，则下列哪个命题一定成立 (<span class="red-pen"> C </span>)</p>
                <div class="grid-options">
                    <span>A. 若(a,b)∈R,则(b,a)∈R</span><span>B. R是传递的</span>
                    <span>C. (a,a)∈R 对任意 a∈A 均成立</span><span>D. R是对称的</span>
                </div>
            </div>
            <div>
                <p>10. 若 P 和 Q 是两个命题，则 P → Q 等价于 (<span class="red-pen"> A </span>)</p>
                <div class="grid-options">
                    <span>A. ¬P ∨ Q</span><span>B. ¬P ∧ Q</span><span>C. P ∨ ¬Q</span><span>D. P ∧ ¬Q</span>
                </div>
                <div class="explanation">解析：这是蕴含等值式：P → Q ⇔ ¬P ∨ Q。</div>
            </div>
            <div>
                <p>11. 集合 A={1,2,3}, B={a,b,c}，从 A 到 B 的双射总数为 (<span class="red-pen"> B </span>)</p>
                <div class="grid-options">
                    <span>A. 3</span><span>B. 6</span><span>C. 18</span><span>D. 27</span>
                </div>
                <div class="explanation">解析：全排列 3! = 3 × 2 × 1 = 6。</div>
            </div>
            <div>
                <p>12. 设x为整数，A={x | x>0, x<6}，则 A 的幂集元素个数 (<span class="red-pen"> C </span>)</p>
                <div class="grid-options">
                    <span>A. 5</span><span>B. 10</span><span>C. 16</span><span>D. 13</span>
                </div>
                <div class="explanation">解析：若A={1,2,3,4} (即x&lt;5)，则n=4，幂集为 2<sup>4</sup>=16。</div>
            </div>
            <div>
                <p>13. 命题 (P ∨ Q) ∧ ¬P 等价于 (<span class="red-pen"> ¬P ∧ Q </span>)</p>
                <div class="grid-options">
                    <span>A. Q</span><span>B. P</span><span>C. ¬P</span><span>D. P ∧ Q</span>
                </div>
                <div class="explanation">解析：(P ∨ Q) ∧ ¬P ⇔ (P ∧ ¬P) ∨ (Q ∧ ¬P) ⇔ F ∨ (Q ∧ ¬P) ⇔ ¬P ∧ Q。</div>
            </div>
            <div>
                <p>15. 命题“若今天是周二，则明天是周三”的逆命题是 (<span class="red-pen"> C </span>)</p>
                <div class="grid-options" style="grid-template-columns: 1fr;">
                    <span>C. 如果今天不是周二，那么明天不是周三</span>
                </div>
                <div class="explanation">解析：注：选项C实际是“否命题”(¬P→¬Q)，逆命题应为“若明天是周三则今天是周二”。此处选C可能考察的是逆否命题的混淆，或题库选项有误，按常见逻辑题解析选最接近的变换。</div>
            </div>
        </div>
    </div>

    <!-- 二、填空题 -->
    <div class="mb-8">
        <h2 class="text-xl font-bold mb-4 border-l-4 border-gray-800 pl-3">二、填空题</h2>
        <div class="space-y-4">
            <p>1. 若 f: A → B 是一个双射，则 f<sup>-1</sup>: B → A 是 <span class="red-pen underline"> 双射 </span>。</p>
            <p>2. 命题“所有人都会做数学题”的否定是 <span class="red-pen underline"> 有些人不会做数学题 </span>。</p>
            <p>3. 5阶完全无向图边的数量为 <span class="red-pen underline"> 10 </span>。<span class="text-xs text-gray-500">(5×4 ÷ 2)</span></p>
            <p>4. 欧拉数值 φ(16) = <span class="red-pen underline"> 8 </span>。</p>
            <p>5. 设集合 A={a,b,c}，则 A 上自反关系的最少有序对个数为 <span class="red-pen underline"> 3 </span>。</p>
            <p>6. 若 |A × B| = 20, |A| = 4, 则 |B| = <span class="red-pen underline"> 5 </span>。</p>
            <p>7. 若 a ≡ b (mod m)，则 a 和 b 除以 m 的余数 <span class="red-pen underline"> 相同 </span>。</p>
            <p>8. 在无向图中，所有节点度数之和等于图中边数的 <span class="red-pen underline"> 2 </span> 倍。</p>
            <p>9. 若 A ∩ B = ∅，则 |A ∪ B| = <span class="red-pen underline"> |A| + |B| </span>。</p>
            <p>10. 若 P → Q 为真且 Q 为假，则 P 的真值为 <span class="red-pen underline"> 假 (F) </span>。</p>
            <p>11. 设x为整数，A={x | 0 &lt; x &lt; 5}，则其子集个数为 <span class="red-pen underline"> 16 </span>。</p>
            <p>13. 一个 n 阶简单无向图的最大边数为 <span class="red-pen underline"> n(n-1)/2 </span>。</p>
            <p>14. 若 A ∩ B = ∅，则 |A ∩ B| = <span class="red-pen underline"> 0 </span>。</p>
            <p>15. “所有人都喜欢数学”符号化为 <span class="red-pen underline"> ∀x ( Person(x) → LikeMath(x) ) </span>。</p>
        </div>
    </div>

    <!-- 三、判断题 -->
    <div class="mb-8">
        <h2 class="text-xl font-bold mb-4 border-l-4 border-gray-800 pl-3">三、判断题</h2>
        <div class="space-y-2">
            <p>1. 命题的否定总是和命题本身互为矛盾。 (<span class="red-pen"> √ </span>)</p>
            <p>2. 在图论中，孤立节点的度数为1。 (<span class="red-pen"> × </span>) <span class="explanation inline">解析：度数为0。</span></p>
            <p>3. 集合的并运算满足分配律。 (<span class="red-pen"> √ </span>)</p>
            <p>4. 在任何关系中，如果(a,b)∈R且(b,c)∈R，则一定有(a,c)∈R。 (<span class="red-pen"> × </span>) <span class="explanation inline">解析：仅传递关系才满足。</span></p>
            <p>5. 在图论中，孤立节点的度数为0。 (<span class="red-pen"> √ </span>)</p>
            <p>6. “所有的鱼都会游泳”可以符号化为 ∀x(P(x) → Q(x))。 (<span class="red-pen"> √ </span>)</p>
            <p>7. 若 R 是自反的，则 R 的对称闭包也是自反的。 (<span class="red-pen"> √ </span>)</p>
            <p>8. 若集合 A 的子集个数为16，则 A 的元素个数为8。 (<span class="red-pen"> × </span>) <span class="explanation inline">解析：2<sup>n</sup>=16 ⇒ n=4。</span></p>
            <p>9. “我说的话都是假话。”是一个命题。 (<span class="red-pen"> × </span>) <span class="explanation inline">解析：这是著名的说谎者悖论，不是命题。</span></p>
            <p>10. 关系的传递闭包一定是对称的。 (<span class="red-pen"> × </span>)</p>
            <p>11. 若关系 R 是集合上的自反关系，则必有 xRx。 (<span class="red-pen"> √ </span>)</p>
            <p>12. 无向图中，若度数之和是奇数，则图中一定有孤立顶点。 (<span class="red-pen"> × </span>) <span class="explanation inline">解析：度数和必为偶数。</span></p>
            <p>13. 若 A,B 无公共元素，则 A ∩ B = A ∪ B。 (<span class="red-pen"> × </span>)</p>
        </div>
    </div>

    <!-- 四、计算与解答 -->
    <div class="mb-8">
        <h2 class="text-xl font-bold mb-4 border-l-4 border-gray-800 pl-3">四、计算与解答</h2>
        
        <div class="mb-6">
            <p class="font-bold">1-2. 求 3<sup>2025</sup> 和 3<sup>2026</sup> 的个位数。</p>
            <div class="red-pen-block">
                <p>解：</p>
                <p>3的幂次个位数呈周期性变化：3, 9, 7, 1 (周期 T=4)。</p>
                <p>2025 ÷ 4 = 506 ... 1，故 3<sup>2025</sup> 的个位数与 3<sup>1</sup> 相同，为 <strong class="text-xl">3</strong>。</p>
                <p>2026 ÷ 4 = 506 ... 2，故 3<sup>2026</sup> 的个位数与 3<sup>2</sup> 相同，为 <strong class="text-xl">9</strong>。</p>
            </div>
        </div>

        <div class="mb-6">
            <p class="font-bold">3-4. 设 A={0,1,2,3}, R={(x,y)|x+y=3}, S={(x,y)|y-x=1}</p>
            <div class="mb-2 text-sm text-gray-600">
                R = {(0,3), (1,2), (2,1), (3,0)} <br>
                S = {(0,1), (1,2), (2,3)}
            </div>
            <div class="red-pen-block">
                <p>R ∪ S = {(0,3), (1,2), (2,1), (3,0), (0,1), (2,3)}</p>
                <p>S - R = {(0,1), (2,3)}  <span class="text-xs">(除去相同项(1,2))</span></p>
                <p>R ∩ S = {(1,2)}</p>
                <p>R - S = {(0,3), (2,1), (3,0)}</p>
                <p>R ⊕ S = (R ∪ S) - (R ∩ S) = {(0,3), (2,1), (3,0), (0,1), (2,3)}</p>
            </div>
        </div>

        <div class="mb-6">
            <p class="font-bold">5. 命题公式 (¬p ∨ ¬q) → (p ↔ ¬q) 类型判断</p>
            <div class="red-pen-block">
                <p>真值表简析：</p>
                <ul class="list-disc ml-6 text-sm">
                    <li>T,T: F → (T ↔ F) ⇒ F → F ⇒ T</li>
                    <li>T,F: T → (T ↔ T) ⇒ T → T ⇒ T</li>
                    <li>F,T: T → (F ↔ F) ⇒ T → T ⇒ T</li>
                    <li>F,F: T → (F ↔ T) ⇒ T → F ⇒ F</li>
                </ul>
                <p>类型：<span class="underline">非重言式的可满足式 (或 偶真式)</span></p>
                <p>主合取范式(M): M<sub>3</sub> (p ∨ q)</p>
            </div>
        </div>

        <div class="mb-6">
            <p class="font-bold">6. 命题公式 (q → p) ∧ (¬p ∧ q) 类型判断</p>
            <div class="red-pen-block">
                <p>解析：</p>
                <p>右边 (¬p ∧ q) 为真 仅当 p=F, q=T。</p>
                <p>代入左边 (q → p) 即 T → F 为假。</p>
                <p>故整体永远为假。</p>
                <p>类型：<span class="underline">矛盾式 (永假式)</span></p>
            </div>
        </div>

        <div class="mb-6">
            <p class="font-bold">7. 无向图 G 是 3-正则 (n, m) 图，且 2n - 3 = m，求 n, m。</p>
            <div class="red-pen-block">
                <p>解：由握手定理，∑ deg(v) = 2m。</p>
                <p>因为是3-正则图，∑ deg(v) = 3n。</p>
                <p>所以 3n = 2m。</p>
                <p>代入 m = 2n - 3：</p>
                <p>3n = 2(2n - 3) ⇒ 3n = 4n - 6 ⇒ <strong class="text-xl">n = 6</strong></p>
                <p>m = 2(6) - 3 = <strong class="text-xl">9</strong></p>
            </div>
        </div>
        
        <div class="mb-6">
            <p class="font-bold">8. 设无向图 G 是一个4-正则 (n, m) 图，且满足 n + 2 = m，求 n 和 m。</p>
            <div class="red-pen-block">
                <p>解：由握手定理，4n = 2m ⇒ m = 2n。</p>
                <p>将 m = n + 2 代入得 2n = n + 2 ⇒ <strong class="text-xl">n = 2</strong>。</p>
                <p>m = 2 + 2 = <strong class="text-xl">4</strong>。</p>
            </div>
        </div>
    </div>

    <!-- 五、关系与证明 -->
    <div class="mb-8">
        <h2 class="text-xl font-bold mb-4 border-l-4 border-gray-800 pl-3">五、关系与证明</h2>
        
        <div class="mb-6">
            <p class="font-bold">1-2. A={a,b,c,d}, R={(a,a),(a,b),(b,a),(b,c),(c,d)}。求闭包。</p>
            <div class="red-pen-block text-sm">
                <p><strong>1. 对称闭包 s(R) = </strong> R ∪ {(c,b), (d,c)} <br>= {(a,a), (a,b), (b,a), (b,c), (c,d), (c,b), (d,c)}</p>
                <p><strong>传递闭包 t(R) = </strong> 添加路径可达项：<br>
                {(a,c), (a,d), (b,b), (b,d)} ∪ R</p>
                <p><strong>2. 自反闭包 r(R) = </strong> R ∪ {(c,c), (d,d)}</p>
            </div>
        </div>

        <div class="mb-6">
            <p class="font-bold">3-4. 谓词逻辑符号化</p>
            <div class="red-pen-block">
                <p>3.(1) 并非每个学生都有所作为：¬∀x (S(x) → A(x))</p>
                <p>3.(2) 有些学生是聪明和勤奋的：∃x (S(x) ∧ C(x) ∧ D(x))</p>
                <p>4.(1) 每个学生或是勤奋的或是聪明的：∀x (S(x) → (D(x) ∨ C(x)))</p>
                <p>4.(2) 所有勤奋的人都有所作为：∀x (D(x) → A(x))</p>
            </div>
        </div>

        <!-- 补充的图论题 5 -->
        <div class="mb-6 page-break-inside-avoid">
            <p class="font-bold mb-2">5. 写出 G 的邻接矩阵和可达矩阵，并判断 G 是哪类连通图。</p>
            <div class="flex justify-center mb-4">
                <svg class="graph-svg" width="200" height="200" viewBox="0 0 200 200">
                    <!-- Nodes -->
                    <circle cx="50" cy="150" r="4" /><text x="30" y="165">V1</text>
                    <circle cx="150" cy="150" r="4" /><text x="160" y="165">V2</text>
                    <circle cx="150" cy="50" r="4" /><text x="160" y="45">V3</text>
                    <circle cx="50" cy="50" r="4" /><text x="30" y="45">V4</text>
                    
                    <!-- Edges (Problem 5) -->
                    <path d="M 50 150 L 50 58" /> <!-- V1 -> V4 -->
                    <path d="M 150 150 L 58 150" /> <!-- V2 -> V1 -->
                    <path d="M 150 150 L 56 56" /> <!-- V2 -> V4 -->
                    <path d="M 50 50 Q 100 20 150 50" /> <!-- V4 -> V3 (Curved) -->
                    <path d="M 150 50 L 58 50" /> <!-- V3 -> V4 (Straight) -->
                    <path d="M 150 50 L 150 142" /> <!-- V3 -> V2 -->
                </svg>
            </div>
            
            <div class="red-pen-block">
                <p><strong>解：</strong></p>
                <div class="flex flex-col gap-4">
                    <div>
                        <span>邻接矩阵 A = </span>
                        <div class="matrix-container">
                            <div class="matrix-bracket" style="height: 100px;"></div>
                            <div class="matrix-content">
                                <span>0</span><span>0</span><span>0</span><span>1</span>
                                <span>1</span><span>0</span><span>0</span><span>1</span>
                                <span>0</span><span>1</span><span>0</span><span>1</span>
                                <span>0</span><span>0</span><span>1</span><span>0</span>
                            </div>
                            <div class="matrix-bracket matrix-bracket-right" style="height: 100px;"></div>
                        </div>
                    </div>
                    <div>
                        <span>可达矩阵 P = </span>
                        <div class="matrix-container">
                            <div class="matrix-bracket" style="height: 100px;"></div>
                            <div class="matrix-content">
                                <span>1</span><span>1</span><span>1</span><span>1</span>
                                <span>1</span><span>1</span><span>1</span><span>1</span>
                                <span>1</span><span>1</span><span>1</span><span>1</span>
                                <span>1</span><span>1</span><span>1</span><span>1</span>
                            </div>
                            <div class="matrix-bracket matrix-bracket-right" style="height: 100px;"></div>
                        </div>
                    </div>
                </div>
                <p class="mt-2"><strong>连通性判断：</strong> 强连通图。</p>
                <p class="text-sm text-gray-700 mt-1">分析：图中存在环路 V<sub>1</sub> → V<sub>4</sub> → V<sub>3</sub> → V<sub>2</sub> → V<sub>1</sub>，所有节点相互可达。</p>
            </div>
        </div>

        <!-- 补充的图论题 6 -->
        <div class="mb-6 page-break-inside-avoid">
            <p class="font-bold mb-2">6. 写出 G 的邻接矩阵和可达矩阵，并判断 G 是哪类连通图。</p>
            <div class="flex justify-center mb-4">
                <svg class="graph-svg" width="200" height="200" viewBox="0 0 200 200">
                    <!-- Nodes -->
                    <circle cx="50" cy="150" r="4" /><text x="30" y="165">V1</text>
                    <circle cx="150" cy="150" r="4" /><text x="160" y="165">V2</text>
                    <circle cx="150" cy="50" r="4" /><text x="160" y="45">V3</text>
                    <circle cx="50" cy="50" r="4" /><text x="30" y="45">V4</text>
                    
                    <!-- Edges (Problem 6) -->
                    <path d="M 50 150 L 50 58" /> <!-- V1 -> V4 -->
                    <path d="M 50 150 L 144 56" /> <!-- V1 -> V3 -->
                    <path d="M 50 50 L 142 50" /> <!-- V4 -> V3 -->
                    <path d="M 150 50 L 150 142" /> <!-- V3 -> V2 (Straight) -->
                    <path d="M 150 150 Q 180 100 150 50" /> <!-- V2 -> V3 (Curved) -->
                    <path d="M 150 150 L 58 150" /> <!-- V2 -> V1 -->
                </svg>
            </div>

            <div class="red-pen-block">
                <p><strong>解：</strong></p>
                <div class="flex flex-col gap-4">
                    <div>
                        <span>邻接矩阵 A = </span>
                        <div class="matrix-container">
                            <div class="matrix-bracket" style="height: 100px;"></div>
                            <div class="matrix-content">
                                <span>0</span><span>0</span><span>1</span><span>1</span>
                                <span>1</span><span>0</span><span>1</span><span>0</span>
                                <span>0</span><span>1</span><span>0</span><span>0</span>
                                <span>0</span><span>0</span><span>1</span><span>0</span>
                            </div>
                            <div class="matrix-bracket matrix-bracket-right" style="height: 100px;"></div>
                        </div>
                    </div>
                    <div>
                        <span>可达矩阵 P = </span>
                        <div class="matrix-container">
                            <div class="matrix-bracket" style="height: 100px;"></div>
                            <div class="matrix-content">
                                <span>1</span><span>1</span><span>1</span><span>1</span>
                                <span>1</span><span>1</span><span>1</span><span>1</span>
                                <span>1</span><span>1</span><span>1</span><span>1</span>
                                <span>1</span><span>1</span><span>1</span><span>1</span>
                            </div>
                            <div class="matrix-bracket matrix-bracket-right" style="height: 100px;"></div>
                        </div>
                    </div>
                </div>
                <p class="mt-2"><strong>连通性判断：</strong> 强连通图。</p>
                <p class="text-sm text-gray-700 mt-1">分析：存在环路 V<sub>1</sub> → V<sub>4</sub> → V<sub>3</sub> → V<sub>2</sub> → V<sub>1</sub>，任意两点间均可达。</p>
            </div>
        </div>
    </div>

    <!-- 六、证明题 -->
    <div class="mb-6">
        <h2 class="text-xl font-bold mb-4 border-l-4 border-gray-800 pl-3">六、证明题</h2>
        
        <div class="mb-4">
            <p class="font-bold">1. 设 A={a,b,c,d}， R={(a,c),(c,a),(b,d),(d,b)} ∪ I<sub>A</sub>。证明 R 是 A 上的等价关系。</p>
            <div class="red-pen-block">
                <p>证明：需证明自反、对称、传递。</p>
                <p>1. 自反性：R 包含 I<sub>A</sub>，即包含所有 (x,x)。得证。</p>
                <p>2. 对称性：(a,c) ∈ R ⇒ (c,a) ∈ R；(b,d) ∈ R ⇒ (d,b) ∈ R。得证。</p>
                <p>3. 传递性：由 (a,c) 和 (c,a) 可得 (a,a) (在 I<sub>A</sub> 中)。同理 (b,d) 部分。无交叉项，得证。</p>
            </div>
        </div>

        <div class="mb-4">
            <p class="font-bold">2. 使用等值置换定理证明：∃x (A(x) → B(x)) ⇔ ∀x A(x) → ∃x B(x)</p>
            <div class="red-pen-block">
                <p>证明：</p>
                <p>左边 = ∃x (¬A(x) ∨ B(x)) &nbsp;&nbsp; <span class="text-xs text-gray-600">(蕴含等值式)</span></p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = ∃x ¬A(x) ∨ ∃x B(x) &nbsp;&nbsp; <span class="text-xs text-gray-600">(存在量词分配律)</span></p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = ¬∀x A(x) ∨ ∃x B(x) &nbsp;&nbsp; <span class="text-xs text-gray-600">(量词否定/德摩根律)</span></p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = ∀x A(x) → ∃x B(x) &nbsp;&nbsp; <span class="text-xs text-gray-600">(蕴含等值式)</span></p>
                <p>左边 = 右边，得证。</p>
            </div>
        </div>

        <div class="mb-4">
            <p class="font-bold">3. 使用等值置换定理证明：∃x ∃y (A(x) → B(y)) ⇔ ∀x A(x) → ∃y B(y)</p>
            <div class="red-pen-block">
                <p>证明：</p>
                <p>左边 = ∃x ∃y (¬A(x) ∨ B(y))</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = ∃x (¬A(x) ∨ ∃y B(y)) &nbsp;&nbsp; <span class="text-xs text-gray-600">(A(x)不含y，量词辖域收缩)</span></p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = ∃x ¬A(x) ∨ ∃y B(y) &nbsp;&nbsp; <span class="text-xs text-gray-600">(B(y)不含x，量词辖域收缩)</span></p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = ¬∀x A(x) ∨ ∃y B(y)</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = ∀x A(x) → ∃y B(y)</p>
                <p>左边 = 右边，得证。</p>
            </div>
        </div>

        <div class="mb-4">
            <p class="font-bold">4. 证明 ((p ∨ q) ∧ ¬(p ∧ q)) ⇔ ¬(p ↔ q)</p>
            <div class="red-pen-block">
                <p>证明：</p>
                <p>左边 = (p ∨ q) ∧ (¬p ∨ ¬q) &nbsp;&nbsp; <span class="text-xs text-gray-600">(这是异或 p ⊕ q 的定义)</span></p>
                <p>右边 = ¬((p ∧ q) ∨ (¬p ∧ ¬q)) &nbsp;&nbsp; <span class="text-xs text-gray-600">(等价的否定即异或)</span></p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = ¬(p ∧ q) ∧ ¬(¬p ∧ ¬q) &nbsp;&nbsp; <span class="text-xs text-gray-600">(德摩根律)</span></p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = (¬p ∨ ¬q) ∧ (p ∨ q)</p>
                <p>左边 = 右边，得证。</p>
            </div>
        </div>
    </div>

</div>

<script>
    function exportHTML() {
        const htmlContent = document.documentElement.outerHTML;
        const blob = new Blob([htmlContent], {type: 'text/html'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'Discrete_Math_Review.html';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }

    function toggleAnswers() {
        const answers = document.querySelectorAll('.red-pen, .red-pen-block');
        const btnText = document.getElementById('toggle-text');
        
        let isHidden = false;
        if (answers.length > 0) {
            isHidden = answers[0].style.visibility === 'hidden' || answers[0].style.display === 'none';
        }

        answers.forEach(el => {
            if (el.tagName === 'SPAN' && el.classList.contains('red-pen')) {
                // Inline answers
                el.style.visibility = isHidden ? 'visible' : 'hidden';
            } else {
                // Block answers
                el.style.display = isHidden ? 'block' : 'none';
            }
        });
        
        btnText.innerText = isHidden ? "隐藏答案与解析" : "显示答案与解析";
    }
</script>

</body>
</html>

