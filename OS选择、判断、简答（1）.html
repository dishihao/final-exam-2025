<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>操作系统期末考试试卷（纯净版）</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0" rel="stylesheet">
    <style>
        body {
            background-color: #e5e7eb;
            font-family: 'Noto Serif SC', 'SimSun', serif;
            color: #1f2937;
            line-height: 1.6;
        }
        .paper {
            background-color: white;
            width: 100%;
            max-width: 210mm;
            min-height: 297mm;
            margin: 20px auto;
            padding: 20mm;
            padding-left: 30mm; /* 为密封线留出空间 */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            position: relative;
            box-sizing: border-box;
        }
        
        /* 密封线 */
        .sealing-line {
            position: absolute;
            left: 12mm;
            top: 0;
            bottom: 0;
            border-right: 1px dashed #9ca3af;
            padding-right: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #6b7280;
            font-size: 0.9rem;
            user-select: none;
        }
        .sealing-line span {
            writing-mode: vertical-lr;
            letter-spacing: 2em;
            margin: 20px 0;
        }

        /* 红色楷体手写效果 */
        .red-pen {
            font-family: "KaiTi", "STKaiti", "楷体", serif;
            color: #c92a2a; 
            font-size: 1.15em;
            display: inline-block;
            margin-left: 0.3rem;
            font-weight: 500;
        }
        .red-pen-block {
            font-family: "KaiTi", "STKaiti", "楷体", serif;
            color: #c92a2a;
            font-size: 1.05em;
            margin-top: 0.5rem;
            padding: 1rem;
            border-left: 4px solid #fecaca;
            background-color: #fff5f5;
            border-radius: 4px;
            line-height: 1.8;
        }
        
        /* 题目布局 */
        .q-item {
            display: flex;
            align-items: baseline;
            margin-bottom: 0.5rem;
        }
        .q-num {
            min-width: 1.5em;
            font-weight: bold;
            margin-right: 0.5rem;
        }
        
        /* 选项网格 */
        .grid-options {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-left: 2rem;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
            color: #4b5563;
        }
        .grid-options-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-left: 2rem;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
            color: #4b5563;
        }
        
        /* 选对的选项高亮 */
        .option-correct {
            color: #1f2937;
            font-weight: bold;
            position: relative;
        }
        .tick-mark {
            font-family: "KaiTi", serif;
            color: #c92a2a;
            position: absolute;
            left: -1.2em;
            top: -0.2em;
            font-size: 1.4em;
            font-weight: bold;
        }

        @media print {
            body { background: none; }
            .paper { margin: 0; box-shadow: none; width: 100%; padding: 20mm; }
        }
    </style>
</head>
<body>

<div class="paper">
    <!-- 密封线 -->
    <div class="sealing-line">
        <span>装</span>
        <span>订</span>
        <span>线</span>
    </div>

    <!-- 试卷抬头 -->
    <div class="text-center border-b-2 border-gray-800 pb-6 mb-8">
        <h1 class="text-3xl font-bold mb-6 tracking-widest">操作系统原理 考试试卷</h1>
        <div class="flex justify-center gap-12 text-sm font-serif text-gray-700">
           
           
            
            
        </div>
    </div>

    <!-- 一、单项选择题 -->
    <div class="mb-8">
        <h2 class="text-lg font-bold mb-4 border-l-4 border-gray-800 pl-3">一、单项选择题（每题 2 分，共 20 分）</h2>
        
        <!-- Q1 -->
        <div class="q-item">
            <span class="q-num">1.</span>
            <p>操作系统核心功能不包括（ <span class="red-pen"> C </span> ）。</p>
        </div>
        <div class="grid-options">
            <label>A. 进程管理</label>
            <label>B. 文件管理</label>
            <label class="option-correct"><span class="tick-mark">√</span>C. 数据库管理</label>
            <label>D. 设备管理</label>
        </div>

        <!-- Q2 -->
        <div class="q-item">
            <span class="q-num">2.</span>
            <p>分时系统中，若用户数目为 50，要求响应时间不超过 1s (1000ms)，则时间片最大应为（ <span class="red-pen"> B </span> ）。</p>
        </div>
        <div class="grid-options">
            <label>A. 10ms</label>
            <label class="option-correct"><span class="tick-mark">√</span>B. 20ms</label>
            <label>C. 30ms</label>
            <label>D. 50ms</label>
        </div>

        <!-- Q3 -->
        <div class="q-item">
            <span class="q-num">3.</span>
            <p>进程间因竞争共享资源而导致的“相互等待”制约关系，称为进程的（ <span class="red-pen"> B </span> ）。</p>
        </div>
        <div class="grid-options">
            <label>A. 同步</label>
            <label class="option-correct"><span class="tick-mark">√</span>B. 互斥</label>
            <label>C. 调度</label>
            <label>D. 阻塞</label>
        </div>

        <!-- Q4 -->
        <div class="q-item">
            <span class="q-num">4.</span>
            <p>PV 操作中，执行一次 P 操作后，若信号量的值变为负数，则当前进程将（ <span class="red-pen"> C </span> ）。</p>
        </div>
        <div class="grid-options-2">
            <label>A. 继续执行</label>
            <label>B. 进入就绪队列</label>
            <label class="option-correct"><span class="tick-mark">√</span>C. 进入阻塞队列</label>
            <label>D. 触发中断</label>
        </div>

        <!-- Q5 -->
        <div class="q-item">
            <span class="q-num">5.</span>
            <p>死锁预防策略中，通过“进程申请资源时一次性申请所有所需资源”来破坏的死锁必要条件是（ <span class="red-pen"> B </span> ）。</p>
        </div>
        <div class="grid-options-2">
            <label>A. 互斥条件</label>
            <label class="option-correct"><span class="tick-mark">√</span>B. 请求与保持条件</label>
            <label>C. 不可剥夺条件</label>
            <label>D. 循环等待条件</label>
        </div>

        <!-- Q6 -->
        <div class="q-item">
            <span class="q-num">6.</span>
            <p>某进程访问页面的序列为 2,3,1,2,5,2,3,6,3,2,5，物理内存块数为 3，采用 LRU 算法的缺页次数为（ <span class="red-pen"> C </span> ）。</p>
        </div>
        <div class="grid-options">
            <label>A. 5 次</label>
            <label>B. 6 次</label>
            <label class="option-correct"><span class="tick-mark">√</span>C. 7 次</label>
            <label>D. 8 次</label>
        </div>

        <!-- Q7 -->
        <div class="q-item">
            <span class="q-num">7.</span>
            <p>分页存储管理中，逻辑地址由“页号 + 页内地址”组成，若页大小为 2KB (2<sup>11</sup>B)，逻辑地址为 16 位，则页号占（ <span class="red-pen"> B </span> ）位。</p>
        </div>
        <div class="grid-options">
            <label>A. 4</label>
            <label class="option-correct"><span class="tick-mark">√</span>B. 5</label>
            <label>C. 6</label>
            <label>D. 7</label>
        </div>

        <!-- Q8 -->
        <div class="q-item">
            <span class="q-num">8.</span>
            <p>某段表内容如下，逻辑地址 [3, 1200]（单位：字节）对应的物理地址为（ <span class="red-pen"> A </span> ）。</p>
        </div>
        <div class="grid-options-2">
            <label class="option-correct"><span class="tick-mark">√</span>A. 680K + 1200</label>
            <label>B. 15K + 1200</label>
            <label>C. 3 + 680K</label>
            <label>D. 1200 + 15K</label>
        </div>

        <!-- Q9 -->
        <div class="q-item">
            <span class="q-num">9.</span>
            <p>以下 I/O 控制方式中，需要 CPU 全程干预数据传输的是（ <span class="red-pen"> A </span> ）。</p>
        </div>
        <div class="grid-options-2">
            <label class="option-correct"><span class="tick-mark">√</span>A. 程序直接控制方式</label>
            <label>B. 中断驱动方式</label>
            <label>C. DMA 方式</label>
            <label>D. 通道方式</label>
        </div>

        <!-- Q10 -->
        <div class="q-item">
            <span class="q-num">10.</span>
            <p>设备分配算法中，能优先满足“等待时间最长的进程”的算法是（ <span class="red-pen"> A </span> ）。</p>
        </div>
        <div class="grid-options-2">
            <label class="option-correct"><span class="tick-mark">√</span>A. 先来先服务</label>
            <label>B. 短作业优先</label>
            <label>C. 优先级调度</label>
            <label>D. 最佳适应</label>
        </div>
    </div>

    <!-- 二、判断题 -->
    <div class="mb-8">
        <h2 class="text-lg font-bold mb-4 border-l-4 border-gray-800 pl-3">二、判断题（每题 1 分，共 10 分）</h2>
        <div class="space-y-3 text-sm">
            <div class="q-item">
                ( <span class="red-pen font-bold"> √ </span> ) 1. 操作系统是“裸机”之上的第一层软件，负责管理硬件资源并为应用程序提供接口。
            </div>
            <div class="q-item">
                ( <span class="red-pen font-bold"> √ </span> ) 2. 单 CPU 系统中，进程的“就绪状态”和“运行状态”可以相互转换，但“阻塞状态”不能直接转换为“运行状态”。
            </div>
            <div class="q-item">
                ( <span class="red-pen font-bold"> √ </span> ) 3. 动态优先级会根据进程的运行情况（如 CPU 占用时间、等待时间）动态调整，而静态优先级在进程创建时确定后不再改变。
            </div>
            <div class="q-item">
                ( <span class="red-pen font-bold"> √ </span> ) 4. 缺页中断的处理过程中，若内存无空闲块，必须通过页面置换算法淘汰一页后，才能调入所需页面。
            </div>
            <div class="q-item">
                ( <span class="red-pen font-bold"> × </span> ) 5. 资源分配图中若不存在环，则系统一定没有死锁；若存在环，则系统一定存在死锁。（注：有环不一定死锁）
            </div>
            <div class="q-item">
                ( <span class="red-pen font-bold"> √ </span> ) 6. 段页式存储管理中，先将进程按逻辑分段，再将每个段按固定大小分页，兼具分段和分页的优点。
            </div>
            <div class="q-item">
                ( <span class="red-pen font-bold"> √ </span> ) 7. 分页存储管理中，页面的共享需要通过“共享页表项”实现，而段式存储管理中，段的共享只需让不同进程的段表项指向同一物理段。
            </div>
            <div class="q-item">
                ( <span class="red-pen font-bold"> √ </span> ) 8. 磁盘的平均存取时间 = 寻道时间 + 旋转延迟 + 数据传输时间，其中寻道时间是影响磁盘性能的主要因素。
            </div>
            <div class="q-item">
                ( <span class="red-pen font-bold"> √ </span> ) 9. 字符设备（如键盘、打印机）以“字符”为单位传输数据，块设备（如硬盘、U 盘）以“块”为单位传输数据。
            </div>
            <div class="q-item">
                ( <span class="red-pen font-bold"> √ </span> ) 10. 快表 (TLB) 是一种高速缓冲存储器，用于存放当前常用的页表项，目的是减少“逻辑地址→物理地址”转换时访问内存的次数。
            </div>
        </div>
    </div>

    <!-- 三、简答题 -->
    <div class="mb-8">
        <h2 class="text-lg font-bold mb-4 border-l-4 border-gray-800 pl-3">三、简答题（每题 5 分，共 20 分）</h2>
        
        <div class="mb-6">
            <p class="font-bold mb-2">1. 请简述进程从“就绪状态”转为“运行状态”、从“运行状态”转为“就绪状态”的典型触发事件。</p>
            <div class="red-pen-block">
                <p>答：</p>
                <ul class="list-none space-y-1">
                    <li>(1) <strong>就绪 → 运行：</strong> 进程调度程序（Dispatcher）从就绪队列中选择该进程，并分配处理机（CPU）时间片。</li>
                    <li>(2) <strong>运行 → 就绪：</strong> 
                        <ul class="list-disc list-inside pl-4">
                            <li>时间片用完（分时系统）。</li>
                            <li>系统中出现了更高优先级的就绪进程（抢占式调度）。</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <div class="mb-6">
            <p class="font-bold mb-2">3. 请简述中断处理的基本步骤，并说明中断的作用。</p>
            <div class="red-pen-block">
                <p>答：</p>
                <p><strong>步骤：</strong> (1) 关中断，保存断点； (2) 识别中断源，转向对应服务程序； (3) 保存现场； (4) 执行中断服务程序； (5) 恢复现场，开中断，返回。</p>
                <p><strong>作用：</strong> 实现 CPU 与 I/O 设备并行工作； 处理异常情况（如缺页）； 实现分时和实时操作； 方便操作系统管理硬件资源。</p>
            </div>
        </div>

        <div class="mb-6">
            <p class="font-bold mb-2">4. 什么是程序的链接？程序的链接方式有哪几种？请分别简要说明各方式的特点。</p>
            <div class="red-pen-block">
                <p>答：</p>
                <p><strong>定义：</strong> 将编译后的目标模块装配成一个可执行程序的过程。</p>
                <p><strong>方式：</strong></p>
                <ul class="list-none">
                    <li>(1) <strong>静态链接：</strong> 运行前链接成完整文件。运行快，但占内存，不便更新。</li>
                    <li>(2) <strong>装入时动态链接：</strong> 装入内存时边装入边链接。便于更新，易于共享。</li>
                    <li>(3) <strong>运行时动态链接：</strong> 运行时需要某模块才链接。最省内存，最灵活。</li>
                </ul>
            </div>
        </div>

        <div class="mb-6">
            <p class="font-bold mb-2">5. 请简述局部性原理的定义，并说明局部性原理在虚拟存储器技术中的作用。</p>
            <div class="red-pen-block">
                <p>答：</p>
                <p><strong>定义：</strong> 程序执行呈现局部性。时间局部性（指令/数据重复访问）；空间局部性（访问邻近地址）。</p>
                <p><strong>作用：</strong> 它是虚拟存储器的<strong>理论基础</strong>。依据此原理，系统只需将当前运行所需的部分页面装入内存即可运行，其余部分留在外存，需要时再调入，从而实现“小内存运行大程序”。</p>
            </div>
        </div>
    </div>

</div>

<script>
    // Auto-export logic removed for purity
    function exportHTML() {
        const htmlContent = document.documentElement.outerHTML;
        const blob = new Blob([htmlContent], {type: 'text/html'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'OS_Exam_Pure.html';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }
</script>

</body>
</html>
