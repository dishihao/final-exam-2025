<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSå¤§é¢˜ - è€ƒå‰æ‰‹æœºç‰¹è®­</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Noto+Serif+SC:wght@500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: -apple-system, system-ui, sans-serif; background-color: #f1f5f9; }
        .hand-font { font-family: 'Patrick Hand', 'Noto Serif SC', serif; }
        
        /* éšè—ç­”æ¡ˆæ—¶çš„æ¨¡ç³Šæ•ˆæœ (å¯é€‰ï¼Œç›®å‰ä½¿ç”¨å®Œå…¨éšè—) */
        .blur-answer { filter: blur(8px); user-select: none; }
        
        /* æ¨¡æ‹Ÿè€ƒè¯•æ ‡å‡†ç”˜ç‰¹å›¾æ ·å¼ */
        .gantt-box { border: 2px solid #334155; position: relative; height: 60px; background: white; display: flex; }
        .gantt-block { 
            border-right: 1px solid #334155; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 12px; font-weight: bold; color: #1e293b;
            position: relative;
        }
        .gantt-time { 
            position: absolute; bottom: -20px; right: -10px; 
            font-family: monospace; font-size: 10px; color: #64748b; 
        }
        .gantt-start-time {
            position: absolute; bottom: -20px; left: -5px;
            font-family: monospace; font-size: 10px; color: #64748b; 
        }

        /* ç­”é¢˜å¡è¡¨æ ¼é£æ ¼ */
        .exam-table { width: 100%; border-collapse: collapse; font-size: 12px; font-family: monospace; }
        .exam-table th { background: #e2e8f0; border: 1px solid #94a3b8; padding: 4px; text-align: center; }
        .exam-table td { border: 1px solid #94a3b8; padding: 4px; text-align: center; }
    </style>
</head>
<body class="pb-20">

    <div class="bg-slate-900 text-white p-4 sticky top-0 z-50 shadow-md flex justify-between items-center">
        <div>
            <h1 class="text-lg font-bold">OS æ ¸å¿ƒå¤§é¢˜ç‰¹è®­</h1>
            <p class="text-xs text-slate-400">ç‚¹å‡»â€œæŸ¥çœ‹è§£æâ€æ ¸å¯¹æ ‡å‡†ç­”æ¡ˆ</p>
        </div>
        <div class="text-xs bg-blue-600 px-2 py-1 rounded font-mono">Mobile V1</div>
    </div>

    <div class="max-w-md mx-auto p-4 space-y-6">

        <div class="bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200">
            <div class="p-5 border-b border-dashed border-slate-200">
                <span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded mb-2 font-bold">é¢˜ç›® 01 - è¿›ç¨‹è°ƒåº¦</span>
                <h3 class="font-bold text-slate-800 mb-3">ä¸¤é“ä½œä¸šè°ƒåº¦ (FCFS)</h3>
                <div class="text-sm text-slate-600 space-y-2 bg-slate-50 p-3 rounded-lg border border-slate-100">
                    <p><strong>P1:</strong> 10:00 åˆ°è¾¾ï¼Œè®¡ç®— 40minï¼ŒI/O 20minï¼Œè®¡ç®— 20minã€‚</p>
                    <p><strong>P2:</strong> 10:10 åˆ°è¾¾ï¼Œè®¡ç®— 30minï¼ŒI/O 10minï¼Œè®¡ç®— 10minã€‚</p>
                    <p><strong>è¦æ±‚ï¼š</strong> ç”»å‡º Gantt å›¾å¹¶è®¡ç®—ä¸¤ä½œä¸šå®Œæˆæ—¶é—´ï¼ˆéæŠ¢å å¼ï¼‰ã€‚</p>
                </div>
            </div>

            <div class="bg-slate-50 p-3 flex justify-between items-center">
                <span class="text-xs text-slate-400">æ€è€ƒå®Œå†ç‚¹å¼€å“¦</span>
                <button onclick="toggleAnswer('ans-1')" class="text-sm bg-white border border-slate-300 text-blue-600 px-4 py-1.5 rounded-full font-bold shadow-sm active:scale-95 transition">
                    ğŸ‘ï¸ æŸ¥çœ‹ / éšè—æ ‡å‡†ç­”æ¡ˆ
                </button>
            </div>

            <div id="ans-1" class="hidden p-5 bg-yellow-50 border-t border-yellow-100">
                <h4 class="text-sm font-bold text-yellow-900 mb-2 flex items-center gap-2">
                    <span>âœï¸</span> æ ‡å‡†ä½œç­”èŒƒä¾‹
                </h4>
                
                <div class="mb-4 overflow-x-auto">
                    <p class="text-xs text-slate-500 mb-1">CPU å ç”¨ç”˜ç‰¹å›¾ï¼š</p>
                    <div class="gantt-box w-[300px]">
                        <div class="gantt-block bg-blue-100" style="width: 40%;">
                            P1
                            <span class="gantt-start-time">10:00</span>
                            <span class="gantt-time">10:40</span>
                        </div>
                        <div class="gantt-block bg-green-100" style="width: 30%;">
                            P2
                            <span class="gantt-time">11:10</span>
                        </div>
                        <div class="gantt-block bg-blue-100" style="width: 20%;">
                            P1
                            <span class="gantt-time">11:30</span>
                        </div>
                        <div class="gantt-block bg-green-100" style="width: 10%;">
                            P2
                            <span class="gantt-time">11:40</span>
                        </div>
                    </div>
                </div>

                <div class="text-sm text-slate-800 space-y-1 font-mono">
                    <p>1. <span class="font-bold text-blue-700">P1 å®Œæˆæ—¶åˆ»ï¼š</span> 11:30</p>
                    <p>2. <span class="font-bold text-green-700">P2 å®Œæˆæ—¶åˆ»ï¼š</span> 11:40</p>
                    <p class="text-xs text-slate-500 mt-2 border-t border-yellow-200 pt-2">
                        *æ³¨ï¼šP1 IO(10:40-11:00), P2 æ­¤æ—¶åˆ°è¾¾å¹¶ç­‰å¾… CPUã€‚å½“ P1 IO æ—¶ï¼ŒCPU ç©ºé—²ï¼Œåˆ†é…ç»™ P2ã€‚P2 è®¡ç®—åˆ° 11:10 ç»“æŸç¬¬ä¸€é˜¶æ®µ...
                    </p>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200">
            <div class="p-5 border-b border-dashed border-slate-200">
                <span class="inline-block bg-purple-100 text-purple-800 text-xs px-2 py-0.5 rounded mb-2 font-bold">é¢˜ç›® 02 - æ­»é”é¿å…</span>
                <h3 class="font-bold text-slate-800 mb-3">å®‰å…¨æ€§æ£€æµ‹ (Banker's Algorithm)</h3>
                <div class="text-sm text-slate-600 space-y-2">
                    <p><strong>èµ„æºå‘é‡ï¼š</strong> Available = (3, 3, 2)</p>
                    <p><strong>è¿›ç¨‹éœ€æ±‚ï¼š</strong></p>
                    <ul class="list-disc list-inside text-xs font-mono bg-slate-50 p-2 rounded">
                        <li>P1: Need(1, 2, 2), Alloc(2, 0, 0)</li>
                        <li>P2: Need(6, 0, 0), Alloc(3, 0, 2)</li>
                        <li>P3: Need(0, 1, 1), Alloc(2, 1, 1)</li>
                    </ul>
                    <p><strong>è¦æ±‚ï¼š</strong> åˆ¤æ–­å½“å‰çŠ¶æ€æ˜¯å¦å®‰å…¨ï¼Ÿè‹¥å®‰å…¨ï¼Œå†™å‡ºä¸€ä¸ªå®‰å…¨åºåˆ—åŠ Work å˜åŒ–è¡¨ã€‚</p>
                </div>
            </div>

            <div class="bg-slate-50 p-3 flex justify-between items-center">
                <span class="text-xs text-slate-400">ä¸€å®šè¦è‡ªå·±æ¨ä¸€é</span>
                <button onclick="toggleAnswer('ans-2')" class="text-sm bg-white border border-slate-300 text-blue-600 px-4 py-1.5 rounded-full font-bold shadow-sm active:scale-95 transition">
                    ğŸ‘ï¸ æŸ¥çœ‹ / éšè—æ ‡å‡†ç­”æ¡ˆ
                </button>
            </div>

            <div id="ans-2" class="hidden p-5 bg-yellow-50 border-t border-yellow-100">
                <h4 class="text-sm font-bold text-yellow-900 mb-2">âœï¸ æ ‡å‡†å¡«è¡¨æ³• (é˜…å·è€å¸ˆæœ€çˆ±)</h4>
                <p class="text-xs text-slate-600 mb-2">åˆå§‹ Work = (3, 3, 2)</p>
                
                <table class="exam-table bg-white">
                    <thead>
                        <tr>
                            <th>è¿›ç¨‹</th>
                            <th>Work</th>
                            <th>Need</th>
                            <th>Alloc</th>
                            <th>Work+Alloc</th>
                            <th>Finish</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>P1</td>
                            <td>3 3 2</td>
                            <td>1 2 2</td>
                            <td>2 0 0</td>
                            <td>5 3 2</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>P3</td>
                            <td>5 3 2</td>
                            <td>0 1 1</td>
                            <td>2 1 1</td>
                            <td>7 4 3</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>P2</td>
                            <td>7 4 3</td>
                            <td>6 0 0</td>
                            <td>3 0 2</td>
                            <td>10 4 5</td>
                            <td>âœ…</td>
                        </tr>
                    </tbody>
                </table>

                <div class="mt-3 text-sm font-bold text-green-700 border-l-4 border-green-500 pl-2">
                    ç»“è®ºï¼šç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€ã€‚<br>
                    å®‰å…¨åºåˆ—ï¼š{ P1, P3, P2 }
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200">
            <div class="p-5 border-b border-dashed border-slate-200">
                <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded mb-2 font-bold">é¢˜ç›® 03 - å­˜å‚¨ç®¡ç†</span>
                <h3 class="font-bold text-slate-800 mb-3">é€»è¾‘åœ°å€è½¬ç‰©ç†åœ°å€</h3>
                <div class="text-sm text-slate-600 space-y-2">
                    <p><strong>ç¯å¢ƒï¼š</strong> é¡µé¢å¤§å° 1KB (2^10)ã€‚</p>
                    <p><strong>é¡µè¡¨ï¼š</strong> é¡µå· 0â†’å— 2, é¡µå· 1â†’å— 3, é¡µå· 2â†’å— 5ã€‚</p>
                    <p><strong>é—®é¢˜ï¼š</strong> é€»è¾‘åœ°å€ <code>2500</code> (åè¿›åˆ¶) çš„ç‰©ç†åœ°å€æ˜¯å¤šå°‘ï¼Ÿ(è¦æ±‚å†™å‡ºæ­¥éª¤)</p>
                </div>
            </div>

            <div class="bg-slate-50 p-3 flex justify-between items-center">
                <span class="text-xs text-slate-400">æ³¨æ„è¿›åˆ¶è½¬æ¢</span>
                <button onclick="toggleAnswer('ans-3')" class="text-sm bg-white border border-slate-300 text-blue-600 px-4 py-1.5 rounded-full font-bold shadow-sm active:scale-95 transition">
                    ğŸ‘ï¸ æŸ¥çœ‹ / éšè—æ ‡å‡†ç­”æ¡ˆ
                </button>
            </div>

            <div id="ans-3" class="hidden p-5 bg-yellow-50 border-t border-yellow-100">
                <h4 class="text-sm font-bold text-yellow-900 mb-2">âœï¸ æ ‡å‡†è®¡ç®—æ­¥éª¤</h4>
                
                <div class="space-y-3 text-sm text-slate-800">
                    <div>
                        <p class="font-bold text-xs text-slate-500 uppercase">Step 1: æ‹†åˆ†åœ°å€</p>
                        <p>é¡µé¢å¤§å° 1KB = 1024Bã€‚</p>
                        <p>é¡µå· P = 2500 / 1024 = <span class="font-bold text-blue-600">2</span> (å–æ•´)</p>
                        <p>é¡µå†…åç§» W = 2500 % 1024 = <span class="font-bold text-blue-600">452</span> (å–ä½™)</p>
                    </div>

                    <div>
                        <p class="font-bold text-xs text-slate-500 uppercase">Step 2: æŸ¥è¡¨æ˜ å°„</p>
                        <p>æŸ¥é¡µè¡¨å¾—ï¼šé¡µå· 2 å¯¹åº”çš„å—å·(Frame) ä¸º <span class="font-bold text-green-600">5</span>ã€‚</p>
                    </div>

                    <div>
                        <p class="font-bold text-xs text-slate-500 uppercase">Step 3: æ‹¼æ¥è®¡ç®—</p>
                        <p>ç‰©ç†åœ°å€ = å—å· Ã— å—å¤§å° + åç§»é‡</p>
                        <p class="font-mono bg-white p-2 border rounded mt-1">
                            Addr = 5 Ã— 1024 + 452 <br>
                                 = 5120 + 452 <br>
                                 = <span class="text-red-600 font-bold text-lg">5572</span>
                        </p>
                    </div>

                    <div class="mt-2">
                        <p class="text-xs text-slate-400 mb-1">åœ°å€ç»“æ„ç¤ºæ„å›¾ï¼š</p>
                        <div class="flex border border-slate-400 rounded overflow-hidden text-center text-xs">
                            <div class="w-1/3 bg-slate-200 py-1 border-r border-slate-400">
                                é¡µå· P(2)
                            </div>
                            <div class="w-2/3 bg-white py-1">
                                åç§» W(452)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center text-slate-400 text-xs mt-8">
            å»ºè®®æ¯å¤©ç¡å‰åˆ·ä¸€é | 2025 æœŸæœ«å¿…è¿‡
        </div>

    </div>

    <script>
        function toggleAnswer(id) {
            const el = document.getElementById(id);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
            } else {
                el.classList.add('hidden');
            }
        }
    </script>
</body>
</html>
